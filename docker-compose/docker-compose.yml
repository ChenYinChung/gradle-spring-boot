version: '3'

services:

  postresql:
    container_name: mps_db
    image: docker.nexiosoft.com:5000/nogle-postgresql
    ports:
      - 5430:5430
      - 5432:5432
    environment:
      - initdb=true
    privileged: true

  redis:
    container_name: mps_redis_standalone
    image: docker.nexiosoft.com:5000/nogle-redis
    restart: always
    privileged: true
    ports:
      - 6379:6379
      - 6380:6380
      - 6381:6381
    environment:
      - dev_mode=true

  kafka:
    container_name: mps_kafka_standalone
    image: docker.nexiosoft.com:5000/spotify/kafka
    ports:
      - 2181:2181
      - 9092:9092
    environment:
      - ADVERTISED_HOST=127.0.0.1
      - ADVERTISED_PORT=9092